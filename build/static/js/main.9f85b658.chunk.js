(this["webpackJsonpmavents-app"]=this["webpackJsonpmavents-app"]||[]).push([[0],{19:function(e,t,a){},26:function(e,t,a){e.exports=a(37)},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),o=a.n(c),i=(a(31),a(6)),s=a(2),u=a.n(s),l=a(9),m=a(25),d=a(41),p=a(42),f=a(39),v=a(40),b=a(43);function h(e){var t=function(){var e=Object(l.a)(u.a.mark((function e(){var t=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch.apply(void 0,t).then(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a="http://localhost:4000/api/";console.log();var c="string"==typeof e.dateClicked?e.dateClicked:"",o=Object(n.useState)(a+"cityVenues/"+c),s=Object(i.a)(o,2),h=s[0],E=s[1];Object(n.useEffect)((function(){if(e)return Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(a+"cityVenues/"+c));case 1:case"end":return e.stop()}}),e)})))}),[e]);var w=Object(m.a)(h,t),k=w.data,g=w.error,x=k&&!g?k:[];if(g)return r.a.createElement("div",null,"failed to load");if(!k)return r.a.createElement("div",null,"loading...");var y=function(e){return"ticketmaster"==e.dataSource?"RoyalBlue":"stubhub"==e.dataSource?"DarkOrange":"purple"};return r.a.createElement(d.a,{center:[41.98,-71.3824],zoom:8},r.a.createElement(p.a,{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',minZoom:1,maxZoom:18,id:"mapbox/streets-v11",accessToken:"pk.eyJ1Ijoid2lsbGJveWRlbiIsImEiOiJjazVvdzA4cmEwMDVxM21xbzNiNGxyMGRvIn0.wZFONFwh4vNyRCjkViUg4w"}),x.filter((function(e){return null!=e.latitude&&null!=e.longitude})).map((function(t,a){return r.a.createElement(f.a,{key:a,position:{lat:t.latitude,lng:t.longitude},onMouseOver:function(e){e.target.openPopup()},onMouseOut:function(e){e.target.closePopup()},onClick:function(){e.action(t)}},r.a.createElement(v.a,{key:t.name,center:[t.latitude,t.longitude],fillColor:y(t),color:y(t),radius:500,fillOpacity:.5}),r.a.createElement(b.a,null,r.a.createElement("span",null,t.name,r.a.createElement("br",null),t.dataSource)))})))}a(19),a(35);var E=a(22),w=a(23),k=(a(36),a(24));function g(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),c=a[0],s=a[1],m=Object(n.useState)(!1),d=Object(i.a)(m,2),p=d[0],f=d[1],v=function(e){return"ticketmaster"==e.dataSource?"RoyalBlue":"stubhub"==e.dataSource?"DarkOrange":"purple"};return Object(n.useEffect)((function(){e&&fetch("http://localhost:4000/api/events/".concat(e.venue.name,"/")).then(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,t.map((function(e,t){return{id:e["Event Name"]+t.toString(),date:e["Event Date"],title:e["Event Name"],color:v(e),extendedProps:{dataSource:e.dataSource,minCost:e["Min Cost"],maxCost:e["Max Cost"]}}}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e,p]),r.a.createElement("div",null,r.a.createElement(E.a,{defaultView:"dayGridMonth",plugins:[w.a,k.a],events:c,eventRender:function(e){var t=e.event,a=e.el,n=t.extendedProps.minCost?t.extendedProps.minCost:"Missing",c=t.extendedProps.maxCost?t.extendedProps.maxCost:"Missing",i=r.a.createElement("div",null,r.a.createElement("b",null,t.title),r.a.createElement("div",null,"Min Cost:",r.a.createElement("b",null,n),"Max Cost:",r.a.createElement("b",null,c)));return!0===p&&o.a.render(i,a),a},dateClick:function(t){e.onDateClick(t.dateStr)},customButtons:{btnDetails:{text:"Event Details",click:function(){f(!0!==p)}}},header:{left:"prev,next today btnDetails",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"}}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){var e=Object(n.useState)({name:"Big Night Live",dataSource:"ticketmaster"}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),s=Object(i.a)(o,2),u=s[0],l=s[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("h3",{id:"pageTitle"},r.a.createElement("span",{id:"venueCount"}),"Venues with Events Listed in Massachusetts"),r.a.createElement("button",{id:"btnResetTblCityCounts"},"Reset Map"),r.a.createElement("button",{id:"btnStubhubFilter"},"Stub Hub"),r.a.createElement("button",{id:"btnTicketMasterFilter"},"Ticket Master")),r.a.createElement("div",{className:"col-3"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement(h,{action:function(e){return c(e)},dateClicked:u})),r.a.createElement("div",{className:"col-3"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement(g,{venue:a,onDateClick:function(e){return l(e)}})),r.a.createElement("div",{className:"col-3"})))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.9f85b658.chunk.js.map